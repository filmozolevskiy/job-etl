<mxGraphModel dx="1708" dy="652" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1600" pageHeight="2400" math="0" shadow="0">
  <root>
    <mxCell id="0" />
    <mxCell id="1" parent="0" />
    <mxCell id="title" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=24;fontStyle=1" value="Job-ETL Daily Pipeline Flow" vertex="1">
      <mxGeometry height="40" width="400" x="600" y="20" as="geometry" />
    </mxCell>
    <mxCell id="airflow" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=14;fontStyle=1" value="Airflow DAG&#xa;jobs_etl_daily&#xa;Schedule: 07:00 America/Toronto" vertex="1">
      <mxGeometry height="80" width="300" x="650" y="80" as="geometry" />
    </mxCell>
    <mxCell id="start" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=12;fontStyle=1" value="START" vertex="1">
      <mxGeometry height="40" width="200" x="700" y="200" as="geometry" />
    </mxCell>
    <mxCell id="extract" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=11" value="extract_jsearch&#xa;Extract from JSearch API" vertex="1">
      <mxGeometry height="60" width="200" x="700" y="280" as="geometry" />
    </mxCell>
    <mxCell id="source-extractor" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=10;align=left;verticalAlign=top;spacingLeft=10" value="source-extractor&#xa;Service&#xa;&#xa;• Fetches from JSearch API&#xa;• Writes to raw schema" vertex="1">
      <mxGeometry height="80" width="200" x="1000" y="260" as="geometry" />
    </mxCell>
    <mxCell id="jsearch-api" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontSize=10" value="JSearch API&#xa;(External)" vertex="1">
      <mxGeometry height="50" width="200" x="1300" y="240" as="geometry" />
    </mxCell>
    <mxCell id="normalize" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=11" value="normalize&#xa;Normalize to Canonical Format" vertex="1">
      <mxGeometry height="60" width="200" x="700" y="380" as="geometry" />
    </mxCell>
    <mxCell id="normalizer" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=10;align=left;verticalAlign=top;spacingLeft=10" value="normalizer&#xa;Service&#xa;&#xa;• Maps provider fields&#xa;• Type coercion&#xa;• Enum mapping" vertex="1">
      <mxGeometry height="80" width="200" x="1000" y="370" as="geometry" />
    </mxCell>
    <mxCell id="enrich" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=11" value="enrich&#xa;Enrich with Skills, Titles, Locations" vertex="1">
      <mxGeometry height="60" width="200" x="700" y="480" as="geometry" />
    </mxCell>
    <mxCell id="enricher" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=10;align=left;verticalAlign=top;spacingLeft=10" value="enricher&#xa;Service&#xa;&#xa;• Skills extraction (spaCy)&#xa;• Company enrichment (Glassdoor API)&#xa;• Fuzzy matching for companies" vertex="1">
      <mxGeometry height="100" width="200" x="1000" y="460" as="geometry" />
    </mxCell>
    <mxCell id="glassdoor-api" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontSize=10" value="Glassdoor API&#xa;(External)" vertex="1">
      <mxGeometry height="50" width="200" x="1300" y="350" as="geometry" />
    </mxCell>
    <mxCell id="dbt-models" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=10;align=left;verticalAlign=top;spacingLeft=10" value="dbt_models_core&#xa;Build Dimensions &amp; Facts&#xa;&#xa;• Runs dim_companies&#xa;• Runs fact_jobs&#xa;• Generates surrogate keys" vertex="1">
      <mxGeometry height="100" width="200" x="700" y="580" as="geometry" />
    </mxCell>
    <mxCell id="dbt-service" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=10;align=left;verticalAlign=top;spacingLeft=10" value="dbt&#xa;Transformations&#xa;&#xa;• Reads from staging&#xa;• Builds marts schema&#xa;• Creates dim/fact tables" vertex="1">
      <mxGeometry height="100" width="200" x="1000" y="640" as="geometry" />
    </mxCell>
    <mxCell id="dedupe" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=10;align=left;verticalAlign=top;spacingLeft=10" value="dedupe_consolidate&#xa;Deduplicate by hash_key&#xa;&#xa;• Uses hash_key = md5(company|title|location)&#xa;• Upserts: update last_seen_at if exists&#xa;• Preserves first_seen_at" vertex="1">
      <mxGeometry height="100" width="200" x="700" y="696.75" as="geometry" />
    </mxCell>
    <mxCell id="rank" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=11" value="rank&#xa;Rank Jobs by Score" vertex="1">
      <mxGeometry height="60" width="200" x="700" y="836" as="geometry" />
    </mxCell>
    <mxCell id="ranker" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=10;align=left;verticalAlign=top;spacingLeft=10" value="ranker&#xa;Service&#xa;&#xa;• Reads config/ranking.yml&#xa;• Calculates rank_score (0-100)&#xa;• Generates rank_explain JSON" vertex="1">
      <mxGeometry height="100" width="200" x="1000" y="836" as="geometry" />
    </mxCell>
    <mxCell id="dbt-tests" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=11" value="dbt_tests&#xa;Data Quality Tests" vertex="1">
      <mxGeometry height="60" width="200" x="700" y="936" as="geometry" />
    </mxCell>
    <mxCell id="publish" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=11" value="publish_hyper&#xa;Export to Tableau Hyper" vertex="1">
      <mxGeometry height="60" width="200" x="700" y="1036" as="geometry" />
    </mxCell>
    <mxCell id="publisher-hyper" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=10;align=left;verticalAlign=top;spacingLeft=10" value="publisher-hyper&#xa;Service&#xa;&#xa;• Exports fact_jobs&#xa;• Exports dim_companies&#xa;• Creates .hyper files" vertex="1">
      <mxGeometry height="100" width="200" x="1000" y="1020" as="geometry" />
    </mxCell>
    <mxCell id="notify" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=11" value="notify_daily&#xa;Send Summary Email" vertex="1">
      <mxGeometry height="60" width="200" x="700" y="1160" as="geometry" />
    </mxCell>
    <mxCell id="smtp" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontSize=10" value="SMTP Server&#xa;(Email)" vertex="1">
      <mxGeometry height="50" width="200" x="1000" y="1160" as="geometry" />
    </mxCell>
    <mxCell id="end" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=12;fontStyle=1" value="END" vertex="1">
      <mxGeometry height="40" width="200" x="700" y="1260" as="geometry" />
    </mxCell>
    <mxCell id="db-title" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;fontStyle=1" value="PostgreSQL Database" vertex="1">
      <mxGeometry height="30" width="200" x="200" y="280" as="geometry" />
    </mxCell>
    <mxCell id="raw-schema" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=10;align=left;verticalAlign=top;spacingLeft=10" value="raw Schema&#xa;&#xa;job_postings_raw&#xa;• raw_id (uuid)&#xa;• source (text)&#xa;• payload (jsonb)&#xa;• collected_at (timestamptz)" vertex="1">
      <mxGeometry height="120" width="200" x="200" y="320" as="geometry" />
    </mxCell>
    <mxCell id="staging-schema" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=10;align=left;verticalAlign=top;spacingLeft=10" value="staging Schema&#xa;&#xa;job_postings_stg&#xa;• hash_key (text PK)&#xa;• job_title, company&#xa;• location, remote_type&#xa;• contract_type, seniority&#xa;• salary_min/max/currency&#xa;• skills_raw, description&#xa;• first_seen_at, last_seen_at&#xa;&#xa;companies_stg&#xa;• company_id (text PK)&#xa;• name, rating&#xa;• company_size, year_founded&#xa;• company_type, company_link&#xa;• compensation_rating&#xa;• work_life_balance_rating&#xa;• office_locations (jsonb)&#xa;• enriched_at" vertex="1">
      <mxGeometry height="280" width="200" x="200" y="480" as="geometry" />
    </mxCell>
    <mxCell id="marts-schema" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=10;align=left;verticalAlign=top;spacingLeft=10" value="marts Schema&#xa;&#xa;dim_companies&#xa;• company_id (PK)&#xa;• company, rating&#xa;• company_size, year_founded&#xa;• company_type, company_link&#xa;• compensation_rating&#xa;• work_life_balance_rating&#xa;• office_locations (jsonb)&#xa;&#xa;fact_jobs&#xa;• job_id (PK)&#xa;• hash_key (unique)&#xa;• job_title_std&#xa;• company_id (FK)&#xa;• location_std, lat/lon&#xa;• skills (text[])&#xa;• salary_min/max_norm (CAD)&#xa;• rank_score (0-100)&#xa;• rank_explain (jsonb)" vertex="1">
      <mxGeometry height="300" width="200" x="200" y="856" as="geometry" />
    </mxCell>
    <mxCell id="tableau" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontSize=10;align=left;verticalAlign=top;spacingLeft=10" value="Tableau&#xa;.hyper Files&#xa;&#xa;• Ranked List Dashboard&#xa;• Skills Coverage&#xa;• Source Quality" vertex="1">
      <mxGeometry height="120" width="200" x="200" y="1196" as="geometry" />
    </mxCell>
    <mxCell id="arrow1" edge="1" parent="1" source="airflow" style="endArrow=classic;html=1;rounded=0;strokeWidth=2;strokeColor=#1ba1e2" target="start" value="">
      <mxGeometry height="50" relative="1" width="50" as="geometry">
        <mxPoint x="800" y="200" as="sourcePoint" />
        <mxPoint x="850" y="150" as="targetPoint" />
      </mxGeometry>
    </mxCell>
    <mxCell id="arrow2" edge="1" parent="1" source="start" style="endArrow=classic;html=1;rounded=0;strokeWidth=2;strokeColor=#1ba1e2" target="extract" value="">
      <mxGeometry height="50" relative="1" width="50" as="geometry">
        <mxPoint x="800" y="280" as="sourcePoint" />
        <mxPoint x="850" y="230" as="targetPoint" />
      </mxGeometry>
    </mxCell>
    <mxCell id="arrow3" edge="1" parent="1" source="extract" style="endArrow=classic;html=1;rounded=0;strokeWidth=2;strokeColor=#1ba1e2" target="normalize" value="">
      <mxGeometry height="50" relative="1" width="50" as="geometry">
        <mxPoint x="800" y="380" as="sourcePoint" />
        <mxPoint x="850" y="330" as="targetPoint" />
      </mxGeometry>
    </mxCell>
    <mxCell id="arrow4" edge="1" parent="1" source="normalize" style="endArrow=classic;html=1;rounded=0;strokeWidth=2;strokeColor=#1ba1e2" target="enrich" value="">
      <mxGeometry height="50" relative="1" width="50" as="geometry">
        <mxPoint x="800" y="480" as="sourcePoint" />
        <mxPoint x="850" y="430" as="targetPoint" />
      </mxGeometry>
    </mxCell>
    <mxCell id="arrow5" edge="1" parent="1" source="enrich" style="endArrow=classic;html=1;rounded=0;strokeWidth=2;strokeColor=#1ba1e2" target="dbt-models" value="">
      <mxGeometry height="50" relative="1" width="50" as="geometry">
        <mxPoint x="800" y="510" as="sourcePoint" />
        <mxPoint x="800" y="630" as="targetPoint" />
      </mxGeometry>
    </mxCell>
    <mxCell id="arrow6" edge="1" parent="1" source="dbt-models" style="endArrow=classic;html=1;rounded=0;strokeWidth=2;strokeColor=#1ba1e2" target="dedupe" value="">
      <mxGeometry height="50" relative="1" width="50" as="geometry">
        <mxPoint x="800" y="680" as="sourcePoint" />
        <mxPoint x="800" y="730" as="targetPoint" />
      </mxGeometry>
    </mxCell>
    <mxCell id="arrow7" edge="1" parent="1" style="endArrow=classic;html=1;rounded=0;strokeWidth=2;strokeColor=#1ba1e2" target="rank" value="">
      <mxGeometry height="50" relative="1" width="50" as="geometry">
        <mxPoint x="800" y="836" as="sourcePoint" />
        <mxPoint x="800" y="866" as="targetPoint" />
      </mxGeometry>
    </mxCell>
    <mxCell id="arrow8" edge="1" parent="1" source="rank" style="endArrow=classic;html=1;rounded=0;strokeWidth=2;strokeColor=#1ba1e2" target="dbt-tests" value="">
      <mxGeometry height="50" relative="1" width="50" as="geometry">
        <mxPoint x="800" y="936" as="sourcePoint" />
        <mxPoint x="850" y="886" as="targetPoint" />
      </mxGeometry>
    </mxCell>
    <mxCell id="arrow9" edge="1" parent="1" source="dbt-tests" style="endArrow=classic;html=1;rounded=0;strokeWidth=2;strokeColor=#1ba1e2" target="publish" value="">
      <mxGeometry height="50" relative="1" width="50" as="geometry">
        <mxPoint x="800" y="1036" as="sourcePoint" />
        <mxPoint x="850" y="986" as="targetPoint" />
      </mxGeometry>
    </mxCell>
    <mxCell id="arrow10" edge="1" parent="1" source="publish" style="endArrow=classic;html=1;rounded=0;strokeWidth=2;strokeColor=#1ba1e2" target="notify" value="">
      <mxGeometry height="50" relative="1" width="50" as="geometry">
        <mxPoint x="800" y="1136" as="sourcePoint" />
        <mxPoint x="850" y="1086" as="targetPoint" />
      </mxGeometry>
    </mxCell>
    <mxCell id="arrow11" edge="1" parent="1" source="notify" style="endArrow=classic;html=1;rounded=0;strokeWidth=2;strokeColor=#1ba1e2" target="end" value="">
      <mxGeometry height="50" relative="1" width="50" as="geometry">
        <mxPoint x="800" y="1260" as="sourcePoint" />
        <mxPoint x="850" y="1210" as="targetPoint" />
      </mxGeometry>
    </mxCell>
    <mxCell id="arrow-extract-service" edge="1" parent="1" source="extract" style="endArrow=classic;html=1;rounded=0;strokeWidth=1.5;strokeColor=#9673a6;dashed=1" target="source-extractor" value="calls">
      <mxGeometry height="50" relative="1" width="50" as="geometry">
        <mxPoint x="900" y="310" as="sourcePoint" />
        <mxPoint x="1000" y="320" as="targetPoint" />
      </mxGeometry>
    </mxCell>
    <mxCell id="arrow-extract-api" edge="1" parent="1" source="source-extractor" style="endArrow=classic;html=1;rounded=0;strokeWidth=1.5;strokeColor=#b85450;dashed=1" target="jsearch-api" value="fetches">
      <mxGeometry height="50" relative="1" width="50" as="geometry">
        <mxPoint x="1100" y="360" as="sourcePoint" />
        <mxPoint x="1100" y="400" as="targetPoint" />
      </mxGeometry>
    </mxCell>
    <mxCell id="arrow-extract-raw" edge="1" parent="1" source="source-extractor" style="endArrow=classic;html=1;rounded=0;strokeWidth=1.5;strokeColor=#82b366;dashed=1" target="raw-schema" value="writes">
      <mxGeometry height="50" relative="1" width="50" x="0.33" y="-10" as="geometry">
        <mxPoint as="offset" />
        <mxPoint x="1000" y="320" as="sourcePoint" />
        <mxPoint x="400" y="380" as="targetPoint" />
      </mxGeometry>
    </mxCell>
    <mxCell id="arrow-normalize-service" edge="1" parent="1" source="normalize" style="endArrow=classic;html=1;rounded=0;strokeWidth=1.5;strokeColor=#9673a6;dashed=1" target="normalizer" value="calls">
      <mxGeometry height="50" relative="1" width="50" as="geometry">
        <mxPoint x="900" y="410" as="sourcePoint" />
        <mxPoint x="1000" y="420" as="targetPoint" />
      </mxGeometry>
    </mxCell>
    <mxCell id="arrow-normalize-staging" edge="1" parent="1" source="normalizer" style="endArrow=classic;html=1;rounded=0;strokeWidth=1.5;strokeColor=#82b366;dashed=1" target="staging-schema" value="writes">
      <mxGeometry height="50" relative="1" width="50" as="geometry">
        <Array as="points">
          <mxPoint x="630" y="490" />
        </Array>
        <mxPoint x="1000" y="420" as="sourcePoint" />
        <mxPoint x="400" y="570" as="targetPoint" />
      </mxGeometry>
    </mxCell>
    <mxCell id="arrow-enrich-service" edge="1" parent="1" source="enrich" style="endArrow=classic;html=1;rounded=0;strokeWidth=1.5;strokeColor=#9673a6;dashed=1" target="enricher" value="calls">
      <mxGeometry height="50" relative="1" width="50" as="geometry">
        <mxPoint x="900" y="510" as="sourcePoint" />
        <mxPoint x="1000" y="530" as="targetPoint" />
      </mxGeometry>
    </mxCell>
    <mxCell id="arrow-enrich-read-staging" edge="1" parent="1" source="staging-schema" style="endArrow=classic;html=1;rounded=0;strokeWidth=1.5;strokeColor=#82b366;dashed=1" target="enricher" value="reads">
      <mxGeometry height="50" relative="1" width="50" as="geometry">
        <mxPoint x="400" y="570" as="sourcePoint" />
        <mxPoint x="1000" y="530" as="targetPoint" />
      </mxGeometry>
    </mxCell>
    <mxCell id="arrow-enrich-update-staging" edge="1" parent="1" source="enricher" style="endArrow=classic;html=1;rounded=0;strokeWidth=1.5;strokeColor=#82b366;dashed=1" target="staging-schema" value="updates skills">
      <mxGeometry height="50" relative="1" width="50" as="geometry">
        <mxPoint x="1000" y="530" as="sourcePoint" />
        <mxPoint x="400" y="660" as="targetPoint" />
      </mxGeometry>
    </mxCell>
    <mxCell id="arrow-enrich-glassdoor" edge="1" parent="1" source="enricher" style="endArrow=classic;html=1;rounded=0;strokeWidth=1.5;strokeColor=#b85450;dashed=1" target="glassdoor-api" value="fetches">
      <mxGeometry height="50" relative="1" width="50" as="geometry">
        <mxPoint x="1100" y="580" as="sourcePoint" />
        <mxPoint x="1100" y="600" as="targetPoint" />
      </mxGeometry>
    </mxCell>
    <mxCell id="arrow-enrich-companies-stg" edge="1" parent="1" source="enricher" style="endArrow=classic;html=1;rounded=0;strokeWidth=1.5;strokeColor=#82b366;dashed=1" target="staging-schema" value="writes enriched">
      <mxGeometry height="50" relative="1" width="50" as="geometry">
        <mxPoint x="1000" y="580" as="sourcePoint" />
        <mxPoint x="400" y="760" as="targetPoint" />
      </mxGeometry>
    </mxCell>
    <mxCell id="arrow-dbt-service" edge="1" parent="1" source="dbt-models" style="endArrow=classic;html=1;rounded=0;strokeWidth=1.5;strokeColor=#9673a6;dashed=1" target="dbt-service" value="calls">
      <mxGeometry height="50" relative="1" width="50" as="geometry">
        <mxPoint x="900" y="630" as="sourcePoint" />
        <mxPoint x="1000" y="630" as="targetPoint" />
      </mxGeometry>
    </mxCell>
    <mxCell id="arrow-dbt-read-staging" edge="1" parent="1" source="staging-schema" style="endArrow=classic;html=1;rounded=0;strokeWidth=1.5;strokeColor=#82b366;dashed=1" target="dbt-service" value="reads job_postings_stg + companies_stg">
      <mxGeometry height="50" relative="1" width="50" x="-0.4468" y="-5" as="geometry">
        <mxPoint as="offset" />
        <Array as="points">
          <mxPoint x="570" y="680" />
        </Array>
        <mxPoint x="400" y="660" as="sourcePoint" />
        <mxPoint x="1000" y="630" as="targetPoint" />
      </mxGeometry>
    </mxCell>
    <mxCell id="arrow-dbt-write-marts" edge="1" parent="1" source="dbt-service" style="endArrow=classic;html=1;rounded=0;strokeWidth=1.5;strokeColor=#82b366;dashed=1;exitX=0.02;exitY=0.641;exitDx=0;exitDy=0;exitPerimeter=0;" value="writes">
      <mxGeometry height="50" relative="1" width="50" as="geometry">
        <mxPoint x="1000" y="690" as="sourcePoint" />
        <mxPoint x="400" y="949.5" as="targetPoint" />
      </mxGeometry>
    </mxCell>
    <mxCell id="arrow-dedupe-read-marts" edge="1" parent="1" source="marts-schema" style="endArrow=classic;html=1;rounded=0;strokeWidth=1.5;strokeColor=#82b366;dashed=1;entryX=0.045;entryY=0.486;entryDx=0;entryDy=0;entryPerimeter=0;exitX=1;exitY=0.25;exitDx=0;exitDy=0;" target="dedupe" value="reads">
      <mxGeometry height="50" relative="1" width="50" as="geometry">
        <mxPoint x="400" y="1006" as="sourcePoint" />
        <mxPoint x="700" y="830" as="targetPoint" />
      </mxGeometry>
    </mxCell>
    <mxCell id="arrow-dedupe-update-marts" edge="1" parent="1" source="dedupe" style="endArrow=classic;html=1;rounded=0;strokeWidth=1.5;strokeColor=#82b366;dashed=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" target="marts-schema" value="upserts">
      <mxGeometry height="50" relative="1" width="50" x="0.0004" as="geometry">
        <mxPoint as="offset" />
        <Array as="points">
          <mxPoint x="520" y="810" />
        </Array>
        <mxPoint x="700" y="830" as="sourcePoint" />
        <mxPoint x="400" y="1006" as="targetPoint" />
      </mxGeometry>
    </mxCell>
    <mxCell id="arrow-rank-service" edge="1" parent="1" source="rank" style="endArrow=classic;html=1;rounded=0;strokeWidth=1.5;strokeColor=#9673a6;dashed=1" target="ranker" value="calls">
      <mxGeometry height="50" relative="1" width="50" as="geometry">
        <mxPoint x="900" y="866" as="sourcePoint" />
        <mxPoint x="1000" y="886" as="targetPoint" />
      </mxGeometry>
    </mxCell>
    <mxCell id="arrow-rank-marts" edge="1" parent="1" source="ranker" style="endArrow=classic;html=1;rounded=0;strokeWidth=1.5;strokeColor=#82b366;dashed=1" target="marts-schema" value="updates">
      <mxGeometry height="50" relative="1" width="50" x="0.2232" as="geometry">
        <mxPoint as="offset" />
        <Array as="points">
          <mxPoint x="630" y="930" />
        </Array>
        <mxPoint x="1000" y="886" as="sourcePoint" />
        <mxPoint x="400" y="1006" as="targetPoint" />
      </mxGeometry>
    </mxCell>
    <mxCell id="arrow-publish-service" edge="1" parent="1" source="publish" style="endArrow=classic;html=1;rounded=0;strokeWidth=1.5;strokeColor=#9673a6;dashed=1" target="publisher-hyper" value="calls">
      <mxGeometry height="50" relative="1" width="50" as="geometry">
        <mxPoint x="900" y="1066" as="sourcePoint" />
        <mxPoint x="1000" y="1086" as="targetPoint" />
      </mxGeometry>
    </mxCell>
    <mxCell id="arrow-publish-tableau" edge="1" parent="1" source="publisher-hyper" style="endArrow=classic;html=1;rounded=0;strokeWidth=1.5;strokeColor=#b85450;dashed=1" target="tableau" value="exports">
      <mxGeometry height="50" relative="1" width="50" x="0.3677" y="1" as="geometry">
        <mxPoint as="offset" />
        <Array as="points">
          <mxPoint x="600" y="1150" />
        </Array>
        <mxPoint x="1000" y="1086" as="sourcePoint" />
        <mxPoint x="400" y="1256" as="targetPoint" />
      </mxGeometry>
    </mxCell>
    <mxCell id="arrow-publish-marts" edge="1" parent="1" source="marts-schema" style="endArrow=classic;html=1;rounded=0;strokeWidth=1.5;strokeColor=#82b366;dashed=1" target="publisher-hyper" value="reads">
      <mxGeometry height="50" relative="1" width="50" x="-0.3351" as="geometry">
        <mxPoint as="offset" />
        <Array as="points">
          <mxPoint x="600" y="1020" />
        </Array>
        <mxPoint x="400" y="1006" as="sourcePoint" />
        <mxPoint x="1000" y="1086" as="targetPoint" />
      </mxGeometry>
    </mxCell>
    <mxCell id="arrow-notify-smtp" edge="1" parent="1" source="notify" style="endArrow=classic;html=1;rounded=0;strokeWidth=1.5;strokeColor=#b85450;dashed=1" target="smtp" value="sends">
      <mxGeometry height="50" relative="1" width="50" as="geometry">
        <mxPoint x="900" y="1190" as="sourcePoint" />
        <mxPoint x="1000" y="1185" as="targetPoint" />
      </mxGeometry>
    </mxCell>
    <mxCell id="arrow-raw-staging" edge="1" parent="1" source="raw-schema" style="endArrow=classic;html=1;rounded=0;strokeWidth=1.5;strokeColor=#82b366;dashed=1" target="normalizer" value="reads">
      <mxGeometry height="50" relative="1" width="50" x="-0.3644" as="geometry">
        <mxPoint as="offset" />
        <Array as="points">
          <mxPoint x="590" y="410" />
        </Array>
        <mxPoint x="400" y="380" as="sourcePoint" />
        <mxPoint x="1000" y="420" as="targetPoint" />
      </mxGeometry>
    </mxCell>
    <mxCell id="arrow-staging-marts" edge="1" parent="1" source="staging-schema" style="endArrow=classic;html=1;rounded=0;strokeWidth=1.5;strokeColor=#82b366;dashed=1" target="marts-schema" value="dbt transforms">
      <mxGeometry height="50" relative="1" width="50" as="geometry">
        <mxPoint x="400" y="760" as="sourcePoint" />
        <mxPoint x="400" y="800" as="targetPoint" />
      </mxGeometry>
    </mxCell>
    <mxCell id="legend-title" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;fontStyle=1" value="Legend" vertex="1">
      <mxGeometry height="30" width="100" x="220" y="1266" as="geometry" />
    </mxCell>
    <mxCell id="notes" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=10;align=left;verticalAlign=top;spacingLeft=10;container=1;" value="Notes:&#xa;• Schedule: Daily at 07:00 America/Toronto&#xa;• All tasks are idempotent (upsert by hash_key)&#xa;• hash_key = md5(company|title|location)&#xa;• Retries: 3 for API calls, 2 for others&#xa;• Email notification runs even on failure (trigger_rule=all_done)" vertex="1">
      <mxGeometry height="120" width="1000" x="240" y="1550" as="geometry" />
    </mxCell>
    <mxCell id="Par2KZxJq1OhDaW-grDP-1" connectable="0" parent="1" style="group" value="" vertex="1">
      <mxGeometry height="200" width="1000" x="240" y="1340" as="geometry" />
    </mxCell>
    <mxCell id="legend-box" parent="Par2KZxJq1OhDaW-grDP-1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f5f5f5;strokeColor=#666666;strokeWidth=1" value="" vertex="1">
      <mxGeometry height="200" width="1000" as="geometry" />
    </mxCell>
    <mxCell id="legend-airflow" parent="Par2KZxJq1OhDaW-grDP-1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=10" value="Airflow Tasks" vertex="1">
      <mxGeometry height="30" width="120" x="20" y="50" as="geometry" />
    </mxCell>
    <mxCell id="legend-services" parent="Par2KZxJq1OhDaW-grDP-1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=10" value="Microservices" vertex="1">
      <mxGeometry height="30" width="120" x="160" y="50" as="geometry" />
    </mxCell>
    <mxCell id="legend-db" parent="Par2KZxJq1OhDaW-grDP-1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=10" value="Database Schemas" vertex="1">
      <mxGeometry height="30" width="120" x="300" y="50" as="geometry" />
    </mxCell>
    <mxCell id="legend-external" parent="Par2KZxJq1OhDaW-grDP-1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontSize=10" value="External Systems" vertex="1">
      <mxGeometry height="30" width="120" x="440" y="50" as="geometry" />
    </mxCell>
    <mxCell id="legend-flow" edge="1" parent="Par2KZxJq1OhDaW-grDP-1" style="endArrow=classic;html=1;rounded=0;strokeWidth=2;strokeColor=#1ba1e2" value="Main Flow">
      <mxGeometry height="50" relative="1" width="50" as="geometry">
        <mxPoint x="600" y="65" as="sourcePoint" />
        <mxPoint x="650" y="65" as="targetPoint" />
      </mxGeometry>
    </mxCell>
    <mxCell id="legend-flow-text" parent="Par2KZxJq1OhDaW-grDP-1" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10" value="Main Flow" vertex="1">
      <mxGeometry height="20" width="80" x="660" y="55" as="geometry" />
    </mxCell>
    <mxCell id="legend-service" edge="1" parent="Par2KZxJq1OhDaW-grDP-1" style="endArrow=classic;html=1;rounded=0;strokeWidth=1.5;strokeColor=#9673a6;dashed=1" value="Service Calls">
      <mxGeometry height="50" relative="1" width="50" as="geometry">
        <mxPoint x="600" y="95" as="sourcePoint" />
        <mxPoint x="650" y="95" as="targetPoint" />
      </mxGeometry>
    </mxCell>
    <mxCell id="legend-service-text" parent="Par2KZxJq1OhDaW-grDP-1" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10" value="Service Calls" vertex="1">
      <mxGeometry height="20" width="100" x="660" y="85" as="geometry" />
    </mxCell>
    <mxCell id="legend-data" edge="1" parent="Par2KZxJq1OhDaW-grDP-1" style="endArrow=classic;html=1;rounded=0;strokeWidth=1.5;strokeColor=#82b366;dashed=1" value="Data Flow">
      <mxGeometry height="50" relative="1" width="50" as="geometry">
        <mxPoint x="600" y="125" as="sourcePoint" />
        <mxPoint x="650" y="125" as="targetPoint" />
      </mxGeometry>
    </mxCell>
    <mxCell id="legend-data-text" parent="Par2KZxJq1OhDaW-grDP-1" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10" value="Data Flow" vertex="1">
      <mxGeometry height="20" width="100" x="660" y="115" as="geometry" />
    </mxCell>
  </root>
</mxGraphModel>
